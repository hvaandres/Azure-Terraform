output "win10_vmss_name" {
  description = "Name of the Windows 10 VM Scale Set"
  value       = azurerm_windows_virtual_machine_scale_set.win10_vmss.name
}

output "rhel_vmss_name" {
  description = "Name of the RHEL VM Scale Set"
  value       = azurerm_linux_virtual_machine_scale_set.rhel_vmss.name
}

output "connection_instructions" {
  description = "Instructions to connect to the VMs"
  value       = <<EOT
Connect to VM Scale Sets using Azure Bastion:

1. Go to Azure portal > Virtual Machine Scale Sets > [VMSS name] > Instances
2. Select an instance
3. Click "Connect" button
4. Choose "Bastion" as connection type
5. Enter your Entra ID (Azure AD) credentials
6. Use RDP for Windows VMs or SSH for Linux VMs

For automation, you can use the Azure CLI or PowerShell to retrieve instance details:
- Azure CLI: az vmss list-instances --resource-group ${azurerm_resource_group.pentest_lab.name} --name [VMSS NAME]
- PowerShell: Get-AzVmssVM -ResourceGroupName ${azurerm_resource_group.pentest_lab.name} -VMScaleSetName [VMSS NAME]
EOT
}

output "autoscaling_info" {
  description = "Information about autoscaling settings"
  value = {
    kali_autoscale_name  = azurerm_monitor_autoscale_setting.kali_autoscale.name
    win11_autoscale_name = azurerm_monitor_autoscale_setting.win11_autoscale.name
    win10_autoscale_name = azurerm_monitor_autoscale_setting.win10_autoscale.name
    rhel_autoscale_name  = azurerm_monitor_autoscale_setting.rhel_autoscale.name
  }
}