output "vmss_id" {
  description = "The ID of the Virtual Machine Scale Set"
  value       = azurerm_linux_virtual_machine_scale_set.vmss.id
}

output "vmss_name" {
  description = "The name of the Virtual Machine Scale Set"
  value       = azurerm_linux_virtual_machine_scale_set.vmss.name
}

output "resource_group_name" {
  description = "The name of the resource group"
  value       = azurerm_resource_group.vmss_rg.name
}

output "vmss_identity_principal_id" {
  description = "The Principal ID of the System Assigned Identity of the VMSS"
  value       = azurerm_linux_virtual_machine_scale_set.vmss.identity[0].principal_id
}

output "bastion_host_id" {
  description = "The ID of the Bastion Host"
  value       = azurerm_bastion_host.vmss_bastion.id
}

output "bastion_host_name" {
  description = "The name of the Bastion Host"
  value       = azurerm_bastion_host.vmss_bastion.name
}

output "bastion_public_ip" {
  description = "The public IP address of the Bastion Host"
  value       = azurerm_public_ip.bastion_ip.ip_address
}

output "load_balancer_id" {
  description = "The ID of the Load Balancer"
  value       = azurerm_lb.vmss_lb.id
}

output "application_insights_id" {
  description = "The ID of the Application Insights instance"
  value       = azurerm_application_insights.vmss_insights.id
}

output "application_insights_instrumentation_key" {
  description = "The Instrumentation Key of the Application Insights instance"
  value       = azurerm_application_insights.vmss_insights.instrumentation_key
  sensitive   = true
}

output "autoscale_setting_id" {
  description = "The ID of the Autoscale Setting"
  value       = azurerm_monitor_autoscale_setting.vmss_autoscale.id
}

output "user_assigned_identity_id" {
  description = "The ID of the User Assigned Identity"
  value       = azurerm_user_assigned_identity.vmss_identity.id
}

output "user_assigned_identity_principal_id" {
  description = "The Principal ID of the User Assigned Identity"
  value       = azurerm_user_assigned_identity.vmss_identity.principal_id
}

output "admin_group_id" {
  description = "The ID of the VMSS Administrators Azure AD Group"
  value       = var.create_admin_group ? azuread_group.vmss_admins[0].id : null
}

output "admin_group_name" {
  description = "The name of the VMSS Administrators Azure AD Group"
  value       = var.create_admin_group ? azuread_group.vmss_admins[0].display_name : null
}

output "custom_role_id" {
  description = "The ID of the custom role for VMSS management"
  value       = azurerm_role_definition.vmss_manager.id
}